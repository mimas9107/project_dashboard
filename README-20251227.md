這是一份針對您最新優化版本（2025-12-27）所編寫的專案說明書。這份文件詳細記錄了目前的架構設計、核心功能以及開發者如何快速部署。

---

# README-20251227.md

# Project Dashboard v2.0 (本地專案管理儀表板)

這是一個專為開發者設計的輕量級 Web 儀表板，能自動掃描、分析並管理存放於本地特定目錄下的所有專案。2025-12-27 版本進行了重大架構重構，實現了 **前後端分離 (HTML/CSS/JS 分離)** 並新增了**互動式目錄樹**與 **VS Code 聯動**功能。

## 1. 核心功能 (Key Features)

* **自動化掃描**：自動識別包含 `README.md` 的資料夾為有效專案。
* **技術棧比例分析**：遞迴掃描檔案副檔名，計算專案主要程式語言比例。
* **Git 狀態監控**：即時顯示專案是否有未提交 (Modified) 的變動。
* **互動式目錄樹**：點擊專案卡片可彈出 Modal，查看專案內部的資料夾與檔案結構。
* **一鍵開啟編輯器**：支援從 Web 介面直接喚起 VS Code 並開啟指定專案目錄。
* **前後端解耦**：將樣式與邏輯抽離至獨立檔案，提升維護性與載入速度。

---

## 2. 專案目錄結構 (Project Structure)

本版本遵循 Web 開發最佳實踐，將靜態資源與後端邏輯完整分離：

```text
project_dashboard/
├── app.py              # Flask 後端伺服器 (提供 API 與路由)
├── .env                # 環境設定檔 (存放掃描路徑與伺服器參數)
├── static/             # 靜態資源目錄
│   ├── css/
│   │   └── style.css   # 全域樣式與互動動畫
│   └── js/
│       └── script.js   # 前端 AJAX 請求與 UI 渲染邏輯
├── templates/
│   └── index.html      # 網頁結構模板
└── requirements.txt    # Python 相依套件

```

---

## 3. 快速開始 (Quick Start)

### 步驟 1：安裝環境

確保您的電腦已安裝 Python 3.8+，並執行以下指令：

```bash
pip install -r requirements.txt

```

### 步驟 2：配置環境變數

在專案根目錄建立或編輯 `.env` 檔案：

```ini
SCAN_DIR="/Users/yourname/projects"  # 填寫您存放專案的根目錄
HOST="127.0.0.1"
PORT=5001

```

### 步驟 3：啟動服務

```bash
python app.py

```

啟動後，請瀏覽：`http://127.0.0.1:5001`

---

## 4. 技術細節說明

### 後端 (Backend)

* **Flask API**：
* `/api/projects`: 回傳專案清單與語言統計。
* `/api/structure/<name>`: 遞迴掃描目錄（限制深度 2 層以保效能）。
* `/api/open/<name>`: 透過 `subprocess` 呼叫 `code` 指令。


* **路徑安全**：使用 `os.path.normpath` 檢查，防止目錄遍歷攻擊。

### 前端 (Frontend)

* **Vanilla JavaScript**：使用 `fetch` API 進行非同步通訊。
* **Bootstrap 5 & Icons**：提供響應式佈局與直觀的資料夾/檔案圖示。
* **CSS 最佳化**：加入了卡片上浮動畫與樹狀圖導引虛線。

---

## 5. 待辦事項 (Roadmap)

* [ ] 支援更多編輯器（如 Cursor, IntelliJ）。
* [ ] 增加專案搜尋過濾功能。
* [ ] 支援在 Web 介面執行 `git pull` 指令。

---

*最後更新日期：2025-12-27*
*維護者：Gemini AI 協同開發*